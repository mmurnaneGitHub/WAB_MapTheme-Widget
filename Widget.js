define("dojo/_base/declare dojo/_base/html dojo/query dojo/on dojo/_base/lang dojo/topic dojo/store/Memory dijit/form/FilteringSelect ./common dijit/_WidgetsInTemplateMixin jimu/utils jimu/BaseWidget".split(" "),function(h,d,k,f,e,l,m,n,g,p,b,q){return h([q,p],{baseClass:"jimu-widget-about",postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);g.isDefaultContent(this.config)&&(this.config.about.aboutContent=g.setDefaultContent(this.config,this.nls));this.openAtStartAysn=
this.isOpen=!0;this.resize();this.openAtStartAysn=!0;b.isAutoFocusFirstNodeWidget(this)&&this.customContentNode.focus();this.own(f(this.splashContainerNode,"focus",e.hitch(this,function(){this.firstTabNode.focus()})));this.own(f(this.firstTabNode,"focus",e.hitch(this,function(){this.customContentNode.focus()})));b.setWABLogoDefaultAlt(this.customContentNode);this._runSetUp()},_runSetUp:function(){var c=new m({data:[{name:"General",id:"6573e3dbba474f08b50fcb7021d0007b"},{name:"One Tacoma: Comp Plan",
id:"7865507a1def49638bd635defece9378"},{name:"Permitting",id:"6971a49654b7419f916343c202e61827"},{name:"Pierce Transit System",id:"9203202a668144118758c210e3907002"},{name:"Storm & Sewer",id:"4bfbb042933547149267110f12b55a09"},{name:"Tacoma Equity Index",id:"4b7b855cff224df89c3f6633f1faa859"},{name:"Tideflats Interim Regulations",id:"a0e087e7b7844e27a4db793ac8c32ce5"}]});(new n({value:this.appConfig.map.itemId,label:"select",store:c,style:"width: 200px;",onChange:e.hitch(this,this._runSwapMap)},"themeSelect")).startup()},
_runSwapMap:function(c){this.appConfig.map.itemId=c;this.appConfig.map.mapOptions.lastExtent=this.map.extent;l.publish("appConfigChanged",this.appConfig,"mapChange")},resize:function(){this._resizeContentImg()},onOpen:function(){this.isOpen=!0;setTimeout(e.hitch(this,function(){this.isOpen=!1}),50)},_resizeContentImg:function(){var c=document.activeElement;d.empty(this.customContentNode);var a=d.toDom(this.config.about.aboutContent);d.place(a,this.customContentNode);this.customContentNode.nodeType&&
1===this.customContentNode.nodeType&&((a=k("img",this.customContentNode))&&a.length&&a.forEach(e.hitch(this,function(a){"undefined"!==typeof a.complete&&!1===a.complete?this.own(f(a,"load",e.hitch(this,function(){this._resizeImg(a)}))):this._resizeImg(a)})),a=b.getFocusNodesInDom(this.domNode),a.length&&(b.initFirstFocusNode(this.domNode,a[0]),b.initLastFocusNode(this.domNode,a[a.length-1])),this.isOpen||d.isDescendant(c,this.domNode))&&(c=b.getFirstFocusNode(this.domNode),b.isAutoFocusFirstNodeWidget(this)&&
c.focus(),this.isOpen=!1)},_resizeImg:function(c){var a=d.getContentBox(this.customContentNode),b=d.getContentBox(c);b&&b.w&&b.w>=a.w&&d.setStyle(c,{maxWidth:a.w-20+"px",maxHeight:a.h-40+"px"})}})});